// Generated by @typespec/http-server-csharp
// <auto-generated />

using System;
using System.Net;
using System.Threading.Tasks;
using System.Text.Json;
using System.Text.Json.Serialization;
using Microsoft.AspNetCore.Mvc;
using AI.Chat.Service.Models;
using AI.Chat.Service;
using server.generated.models;

namespace AI.Chat.Service.Controllers
{
    [ApiController]
    public partial class ChatOperationsController : ControllerBase
    {

        public ChatOperationsController(IChatOperations operations)
        {
            ChatOperationsImpl = operations;
        }
        internal virtual IChatOperations ChatOperationsImpl { get; }


        [HttpPost]
        [Route("/chat")]
        [ProducesResponseType((int)HttpStatusCode.OK, Type = typeof(string))]
        [Produces("application/jsonl")]
        public virtual async Task<IActionResult> GetStreamedCompletion(
            [FromBody] RequestBody request,
            CancellationToken cancellationToken)
        {
            return await ChatOperationsImpl.GetStreamedCompletionAsync(HttpContext, request.Body, cancellationToken);
        }
    }
}
